---
import Layout from '../../layouts/Layout.astro';
import MovieDetails from '../../components/MovieDetails.astro';
import { getDataEntryById } from 'astro:content';

import { results } from '../../popular-movies.json'

const result = await getDataEntryById('movies', Astro.params.id as any);
const data = result.data.data;

export const getStaticPaths = async () =>
	results.map(({ id }) => ({ params: { id } }))
---

<Layout title={`${data.title} on Movies List`}>
	<MovieDetails data={data} />
</Layout>
